(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{3898:function(e,t,r){Promise.resolve().then(r.bind(r,6024))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:i="",children:o,iconNode:x,...u}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:d?24*Number(c)/Number(s):c,className:n("lucide",i),...u},[...x.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:d,...i}=r;return(0,a.createElement)(c,{ref:l,iconNode:t,className:n("lucide-".concat(s(e)),d),...i})});return r.displayName="".concat(e),r}},3327:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},8617:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},6142:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]])},6595:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},9474:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4315:function(e,t,r){"use strict";r.d(t,{Am:function(){return a.Am}});var a=r(9064)},6024:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7437),s=r(2265),n=r(8617),l=r(6142),c=r(3327),d=r(6595),i=r(9474);let o=(0,r(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=r(2369),u=r(4315);function h(){let[e,t]=(0,s.useState)([]),[r,h]=(0,s.useState)(!0),[m,y]=(0,s.useState)(null),p=async()=>{try{h(!0),y(null);let e=await fetch("/api/leaderboard",{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(e.ok){let r=await e.json();r.leaderboard&&Array.isArray(r.leaderboard)?t(r.leaderboard):y("Invalid data format received")}else{let t=await e.json();y("Failed to load leaderboard: ".concat(t.error||"Unknown error")),u.Am.error("Failed to load leaderboard.")}}catch(t){let e=t instanceof Error?t.message:String(t);y("Network error: ".concat(e)),u.Am.error("An error occurred while loading leaderboard.")}finally{h(!1)}};(0,s.useEffect)(()=>{p()},[]);let f=e=>{switch(e){case 1:return(0,a.jsx)(n.Z,{className:"h-6 w-6 text-yellow-500"});case 2:return(0,a.jsx)(l.Z,{className:"h-6 w-6 text-gray-400"});case 3:return(0,a.jsx)(c.Z,{className:"h-6 w-6 text-amber-600"});default:return(0,a.jsx)(d.Z,{className:"h-5 w-5 text-gray-400"})}},b=e=>{switch(e){case 1:return"border-yellow-200 bg-yellow-50";case 2:return"border-gray-200 bg-gray-50";case 3:return"border-amber-200 bg-amber-50";default:return"border-gray-100 bg-white"}};return(0,a.jsxs)("div",{className:"p-4 lg:p-8 bg-white shadow-md rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)(i.Z,{className:"h-8 w-8 text-yellow-500 mr-3"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Leaderboard"})]}),r?(0,a.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading leaderboard..."})]})}):m?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-red-600 text-lg font-semibold mb-2",children:"Error Loading Data"}),(0,a.jsx)("p",{className:"text-red-500 mb-4",children:m}),(0,a.jsx)("button",{onClick:p,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Try Again"})]}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(x.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"No users found yet."}),(0,a.jsx)("p",{className:"text-gray-400",children:"Be the first to make an impact!"})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"p-6 border-2 rounded-xl transition-all hover:shadow-md ".concat(b(e.rank)),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[f(e.rank),(0,a.jsxs)("span",{className:"ml-2 text-2xl font-bold text-gray-700",children:["#",e.rank]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.userName}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCCA ",e.reportsSubmitted," reports"]}),(0,a.jsxs)("span",{children:["\uD83D\uDE9B ",e.tasksCompleted," tasks"]}),(0,a.jsxs)("span",{children:["\uD83D\uDCB0 ",e.balance," tokens"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.score}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total Score"})]})]}),e.badges.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Achievements:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.badges.map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:e},t))})]})]},e.id))})]})}}},function(e){e.O(0,[64,971,117,744],function(){return e(e.s=3898)}),_N_E=e.O()}]);