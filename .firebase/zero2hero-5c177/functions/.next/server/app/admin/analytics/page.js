(()=>{var e={};e.id=8668,e.ids=[8668],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},57861:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d}),t(40648),t(32029),t(35866);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["admin",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,40648)),"C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\admin\\analytics\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\admin\\analytics\\page.tsx"],m="/admin/analytics/page",o={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/analytics/page",pathname:"/admin/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},38732:(e,s,t)=>{Promise.resolve().then(t.bind(t,73862))},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},30361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3240:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},69039:(e,s,t)=>{"use strict";var a=t(55358);t.o(a,"toast")&&t.d(s,{toast:function(){return a.toast}})},73862:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(10326),r=t(17577),l=t(86333),i=t(58038),n=t(62881);let c=(0,n.Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var d=t(58907),x=t(24061);let m=(0,n.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var o=t(26754),h=t(997),p=t(48998);let u=(0,n.Z)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);var j=t(30361),f=t(17069),g=t(91664),y=t(29752),N=t(69039),v=t(35047),b=t(44265),w=t(90434);function k(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)(!0),[k,Z]=(0,r.useState)(null),M=(0,v.useRouter)(),S=async()=>{try{await fetch("/api/admin/auth/logout",{method:"POST",credentials:"include"}),localStorage.removeItem("adminEmail"),N.toast.success("Logged out successfully"),M.push("/admin/login")}catch(e){N.toast.error("Logout failed")}},P=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsx(b.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(w.default,{href:"/admin",className:"mr-4",children:(0,a.jsxs)(g.z,{variant:"ghost",size:"sm",children:[a.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Back"]})}),a.jsx(i.Z,{className:"h-8 w-8 text-green-600 mr-3"}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Analytics & Reports"}),a.jsx("p",{className:"text-sm text-gray-600",children:"System performance and statistics"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",k?.name||"Admin"]}),(0,a.jsxs)(g.z,{onClick:S,variant:"outline",size:"sm",children:[a.jsx(c,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),a.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:t?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(d.Z,{className:"h-8 w-8 text-blue-500 mx-auto animate-spin"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(y.ll,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(x.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)(y.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e?.overview.totalUsers||0}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",e?.recent.usersLastWeek||0," this week"]})]})]}),(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(y.ll,{className:"text-sm font-medium",children:"Total Reports"}),a.jsx(m,{className:"h-4 w-4 text-purple-600"})]}),(0,a.jsxs)(y.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e?.overview.totalReports||0}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",e?.recent.reportsLastWeek||0," this week"]})]})]}),(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(y.ll,{className:"text-sm font-medium",children:"Total Tasks"}),a.jsx(o.Z,{className:"h-4 w-4 text-orange-600"})]}),(0,a.jsxs)(y.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e?.overview.totalTasks||0}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e?.overview.totalTasks?Math.round(e.overview.completedTasks/e.overview.totalTasks*100):0,"% completion rate"]})]})]}),(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(y.ll,{className:"text-sm font-medium",children:"Tokens Distributed"}),a.jsx(h.Z,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(y.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e?.overview.totalTokensDistributed||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all users"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{children:[(0,a.jsxs)(y.ll,{className:"flex items-center",children:[a.jsx(p.Z,{className:"h-5 w-5 mr-2"}),"Task Status Overview"]}),a.jsx(y.SZ,{children:"Current status of all waste collection tasks"})]}),(0,a.jsxs)(y.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(p.Z,{className:"h-4 w-4 text-yellow-500 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Pending"})]}),a.jsx("span",{className:"text-xl font-bold text-yellow-500",children:e?.overview.pendingTasks||0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(u,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"In Progress"})]}),a.jsx("span",{className:"text-xl font-bold text-blue-500",children:e?.overview.inProgressTasks||0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(j.Z,{className:"h-4 w-4 text-green-500 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),a.jsx("span",{className:"text-xl font-bold text-green-500",children:e?.overview.completedTasks||0})]})]})]}),(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{children:[(0,a.jsxs)(y.ll,{className:"flex items-center",children:[a.jsx(f.Z,{className:"h-5 w-5 mr-2"}),"Growth Statistics"]}),a.jsx(y.SZ,{children:"Recent activity and growth metrics"})]}),(0,a.jsxs)(y.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Users (Last Week)"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["+",e?.recent.usersLastWeek||0]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Users (Last Month)"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["+",e?.recent.usersLastMonth||0]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Reports (Last Week)"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-purple-600",children:["+",e?.recent.reportsLastWeek||0]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Reports (Last Month)"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-purple-600",children:["+",e?.recent.reportsLastMonth||0]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{children:[(0,a.jsxs)(y.ll,{className:"flex items-center",children:[a.jsx(h.Z,{className:"h-5 w-5 mr-2"}),"Top Users by Tokens"]}),a.jsx(y.SZ,{children:"Users with highest token balances"})]}),a.jsx(y.aY,{children:e?.topUsers&&e.topUsers.length>0?a.jsx("div",{className:"space-y-3",children:e.topUsers.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-sm font-medium text-green-600",children:s+1})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),a.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]}),(0,a.jsxs)("span",{className:"font-bold text-green-600",children:[Number(e.balance)||0," tokens"]})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No user data available"})})]}),(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{children:[(0,a.jsxs)(y.ll,{className:"flex items-center",children:[a.jsx(c,{className:"h-5 w-5 mr-2"}),"Recent Activity"]}),a.jsx(y.SZ,{children:"Latest waste reports and activities"})]}),a.jsx(y.aY,{children:e?.recentActivity&&e.recentActivity.length>0?a.jsx("div",{className:"space-y-3",children:e.recentActivity.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.type," Report"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["by ",e.userName," â€¢ ",e.location]}),a.jsx("div",{className:"text-xs text-gray-400",children:P(e.createdAt)})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-100 text-green-800":"in-progress"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"})})]})]})]})})]})})}},44265:(e,s,t)=>{"use strict";t.d(s,{Z:()=>c});var a=t(10326),r=t(17577),l=t(35047),i=t(3240),n=t(58038);function c({children:e}){let[s,t]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null);return((0,l.useRouter)(),c)?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(i.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-green-600"}),a.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})}):s?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(n.Z,{className:"h-12 w-12 mx-auto mb-4 text-red-500"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this area."})]})})}},29752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>x,ll:()=>c});var a=t(10326),r=t(17577),l=t(51223);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let n=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let x=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));x.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},40648:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\devan\Downloads\zero2hero-Waste-Management-System-master\src\app\admin\analytics\page.tsx#default`)},73881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(66621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,3635,6621,2387],()=>t(57861));module.exports=a})();