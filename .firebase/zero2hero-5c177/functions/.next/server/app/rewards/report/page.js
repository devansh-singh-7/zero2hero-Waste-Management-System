(()=>{var e={};e.id=5777,e.ids=[5777],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},70085:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(91317),s(32029),s(35866);var a=s(23191),r=s(88716),n=s(37922),d=s.n(n),l=s(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let o=["",{children:["rewards",{children:["report",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,91317)),"C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\rewards\\report\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\rewards\\report\\page.tsx"],x="/rewards/report/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/rewards/report/page",pathname:"/rewards/report",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8853:(e,t,s)=>{Promise.resolve().then(s.bind(s,33027))},86333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24230:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},51896:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},30361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3240:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},63685:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},94019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},33265:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(43353),r=s.n(a)},69039:(e,t,s)=>{"use strict";var a=s(55358);s.o(a,"toast")&&s.d(t,{toast:function(){return a.toast}})},8472:()=>{},43353:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=s(91174);s(10326),s(17577);let r=a._(s(77028));function n(e,t){var s;let a={loading:e=>{let{error:t,isLoading:s,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let n={...a,...t};return(0,r.default)({...n,modules:null==(s=n.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=s(94129);function r(e){let{reason:t,children:s}=e;throw new a.BailoutToCSRError(t)}},77028:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let a=s(10326),r=s(17577),n=s(933),d=s(46618);function l(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},s=(0,r.lazy)(()=>t.loader().then(l)),o=t.loading;function c(e){let l=o?(0,a.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.PreloadCss,{moduleIds:t.modules}),(0,a.jsx)(s,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(r.Suspense,{fallback:l,children:i})}return c.displayName="LoadableComponent",c}},46618:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let a=s(10326),r=s(54580);function n(e){let{moduleIds:t}=e,s=(0,r.getExpectedRequestStore)("next/dynamic css"),n=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},51596:(e,t,s)=>{"use strict";s(8472);var a=s(17577),r=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a),n="undefined"!=typeof process&&process.env&&!0,d=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,r=t.optimizeForSpeed,l=void 0===r?n:r;i(d(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",i("boolean"==typeof l,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){i("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),i(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;i(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return i(d(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(t){s.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,s){t&&i(d(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return s?r.insertBefore(a,s):r.appendChild(a),a},function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function i(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var o=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},c={};function x(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return c[a]||(c[a]="jsx-"+o(e+"-"+s)),c[a]}function m(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return c[s]||(c[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[s]}var u=a.createContext(null);u.displayName="StyleSheetContext",r.default.useInsertionEffect||r.default.useLayoutEffect;var f=void 0;function h(e){var t=f||a.useContext(u);return t&&t.add(e),null}h.dynamic=function(e){return e.map(function(e){return x(e[0],e[1])}).join(" ")},t.style=h},77626:(e,t,s)=>{"use strict";e.exports=s(51596).style},33027:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(10326),r=s(77626),n=s.n(r),d=s(17577),l=s(3240),i=s(51896);let o=(0,s(62881).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var c=s(77636),x=s(30361),m=s(63685),u=s(24230),f=s(86333),h=s(91664),p=s(69039),b=s(35047),j=s(50908),y=s(70497);let g=(0,s(33265).default)(async()=>{},{loadableGenerated:{modules:["app\\rewards\\report\\page.tsx -> @/components/LocationPicker"]},ssr:!1,loading:()=>a.jsx("div",{className:"h-[400px] bg-gradient-to-br from-green-50 to-blue-50 rounded-2xl flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(l.Z,{className:"h-8 w-8 animate-spin text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:"Loading map..."})]})})});function v({currentStep:e,totalSteps:t}){let s=[{num:1,label:"Upload",icon:i.Z},{num:2,label:"Verify",icon:o},{num:3,label:"Location",icon:c.Z},{num:4,label:"Submit",icon:x.Z}];return a.jsx("div",{className:"flex items-center justify-center mb-8",children:s.slice(0,t).map((s,r)=>{let n=e===s.num,d=e>s.num,l=s.icon;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`
                w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300
                ${n?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-200 scale-110":d?"bg-green-500 text-white":"bg-gray-200 text-gray-400"}
              `,children:d?a.jsx(x.Z,{className:"w-6 h-6"}):a.jsx(l,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-xs mt-2 font-medium ${n?"text-green-600":d?"text-green-500":"text-gray-400"}`,children:s.label})]}),r<t-1&&a.jsx("div",{className:`w-16 h-1 mx-2 rounded-full transition-all duration-300 ${e>s.num?"bg-green-500":"bg-gray-200"}`})]},s.num)})})}function w(){return a.jsx(y.Z,{children:a.jsx(N,{})})}function N(){let{user:e}=(0,j.a)(),t=(0,b.useRouter)(),[s,r]=(0,d.useState)(1),[i,y]=(0,d.useState)(null),[w,N]=(0,d.useState)(null),[k,S]=(0,d.useState)(null),[_,C]=(0,d.useState)("idle"),[P,z]=(0,d.useState)(null),[R,Z]=(0,d.useState)(!1),M=(0,d.useCallback)(s=>!!e||(p.toast.error(`Please sign in to ${s}`),t.push("/auth/signin?from="+encodeURIComponent(window.location.pathname)),!1),[e,t]),T=(0,d.useCallback)(e=>{S(e),p.toast.success("Location selected successfully")},[]),F=(0,d.useCallback)(e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];y(t);let s=new FileReader;s.onload=e=>{N(e.target?.result)},s.readAsDataURL(t),setTimeout(()=>r(2),500)}},[]),I=e=>new Promise((t,s)=>{let a=new FileReader;a.onload=()=>t(a.result),a.onerror=s,a.readAsDataURL(e)}),L=async()=>{if(M("verify waste")){if(!i){p.toast.error("Please upload an image first"),r(1);return}C("verifying");try{let e=await I(i),t=await fetch("/api/verify-waste",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:e.split(",")[1],mimeType:i.type||"image/jpeg"})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to verify waste")}let s=await t.json(),a={wasteType:"string"==typeof s.wasteType?s.wasteType.trim():"",quantity:"string"==typeof s.quantity?s.quantity.trim():"",confidence:"number"==typeof s.confidence?Math.max(0,Math.min(1,s.confidence)):.5,hazards:"string"==typeof s.hazards?s.hazards.trim():"None"};if(!a.wasteType)throw Error("Waste type not detected");if(!a.quantity)throw Error("Quantity not detected");z(a),C("success"),p.toast.success("Waste verified successfully!"),setTimeout(()=>r(3),800)}catch(e){C("failure"),p.toast.error(e instanceof Error?e.message:"Failed to verify waste")}}},q=async e=>{if(e.preventDefault(),M("submit a waste report")){if(!k){p.toast.error("Please select a location"),r(3);return}if("success"!==_){p.toast.error("Please verify the waste first"),r(2);return}Z(!0),p.toast.loading("Submitting your report...",{id:"submit-toast"});try{let e=await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},body:JSON.stringify({location:k,wasteType:P?.wasteType,amount:P?.quantity,verificationResult:P,imageUrl:w})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to submit report")}let t=await e.json();p.toast.success(`Report submitted! You earned ${t.pointsEarned||10} points! ðŸŽ‰`,{id:"submit-toast",duration:4e3}),window.dispatchEvent(new CustomEvent("balanceUpdate")),y(null),N(null),S(null),C("idle"),z(null),r(1)}catch(e){p.toast.error("Failed to submit report. Please try again.",{id:"submit-toast"})}finally{Z(!1)}}};return(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 p-4 md:p-8",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 text-center mb-6",children:[a.jsx("h1",{className:"jsx-3f13d9933bde5ad8 text-3xl md:text-4xl font-bold bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 bg-clip-text text-transparent mb-2",children:"Report Waste"}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-gray-600",children:"Help the environment and earn rewards"})]}),a.jsx(v,{currentStep:s,totalSteps:4}),a.jsx("div",{className:"jsx-3f13d9933bde5ad8 bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 overflow-hidden",children:(0,a.jsxs)("form",{onSubmit:q,className:"jsx-3f13d9933bde5ad8 p-6 md:p-8",children:[1===s&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 animate-fadeIn",children:[a.jsx("h2",{className:"jsx-3f13d9933bde5ad8 text-xl font-semibold text-gray-800 mb-6 text-center",children:"\uD83D\uDCF8 Upload Waste Image"}),a.jsx("div",{className:"jsx-3f13d9933bde5ad8 relative group cursor-pointer",children:(0,a.jsxs)("div",{className:`jsx-3f13d9933bde5ad8 border-3 border-dashed rounded-2xl p-8 md:p-12 transition-all duration-300 ${w?"border-green-400 bg-green-50":"border-gray-300 hover:border-green-400 bg-gradient-to-br from-gray-50 to-green-50 hover:from-green-50 hover:to-emerald-50"}`,children:[w?(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 text-center",children:[a.jsx("img",{src:w,alt:"Waste preview",className:"jsx-3f13d9933bde5ad8 max-h-64 mx-auto rounded-xl shadow-lg mb-4"}),(0,a.jsxs)("p",{className:"jsx-3f13d9933bde5ad8 text-green-600 font-medium flex items-center justify-center gap-2",children:[a.jsx(x.Z,{className:"w-5 h-5"}),"Image uploaded successfully"]}),a.jsx("button",{type:"button",onClick:()=>{y(null),N(null)},className:"jsx-3f13d9933bde5ad8 mt-2 text-sm text-gray-500 hover:text-red-500 underline",children:"Remove and upload different image"})]}):(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 text-center space-y-4",children:[a.jsx("div",{className:"jsx-3f13d9933bde5ad8 mx-auto w-20 h-20 bg-gradient-to-r from-green-100 to-emerald-100 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(m.Z,{className:"h-10 w-10 text-green-600"})}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8",children:[a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-lg font-medium text-gray-700",children:"Click or drag to upload"}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-sm text-gray-500 mt-1",children:"PNG, JPG, GIF up to 10MB"})]})]}),a.jsx("input",{id:"waste-image",type:"file",onChange:F,accept:"image/*",className:"jsx-3f13d9933bde5ad8 absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})}),i&&a.jsx("div",{className:"jsx-3f13d9933bde5ad8 flex justify-center mt-6",children:(0,a.jsxs)(h.z,{type:"button",onClick:()=>r(2),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center gap-2 shadow-lg",children:["Continue to Verify",a.jsx(u.Z,{className:"w-5 h-5"})]})})]}),2===s&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 animate-fadeIn",children:[a.jsx("h2",{className:"jsx-3f13d9933bde5ad8 text-xl font-semibold text-gray-800 mb-6 text-center",children:"\uD83E\uDD16 AI Verification"}),w&&a.jsx("div",{className:"jsx-3f13d9933bde5ad8 flex justify-center mb-6",children:a.jsx("img",{src:w,alt:"Waste",className:"jsx-3f13d9933bde5ad8 h-32 rounded-xl shadow-md"})}),"idle"===_&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 text-center",children:[a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-gray-600 mb-6",children:"Our AI will analyze your image to identify the waste type and quantity"}),(0,a.jsxs)(h.z,{type:"button",onClick:L,className:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white px-10 py-4 rounded-xl font-semibold flex items-center gap-3 mx-auto shadow-lg",children:[a.jsx(o,{className:"w-5 h-5"}),"Analyze with AI"]})]}),"verifying"===_&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 text-center py-8",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 relative w-20 h-20 mx-auto mb-4",children:[a.jsx("div",{className:"jsx-3f13d9933bde5ad8 absolute inset-0 rounded-full border-4 border-purple-200"}),a.jsx("div",{className:"jsx-3f13d9933bde5ad8 absolute inset-0 rounded-full border-4 border-purple-500 border-t-transparent animate-spin"}),a.jsx(o,{className:"absolute inset-0 m-auto w-8 h-8 text-purple-500 animate-pulse"})]}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-purple-600 font-semibold",children:"Analyzing your image..."}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-gray-500 text-sm mt-1",children:"This may take a few seconds"})]}),"success"===_&&P&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 space-y-6",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex items-center justify-center gap-2 mb-4",children:[a.jsx(x.Z,{className:"w-6 h-6 text-green-500"}),a.jsx("span",{className:"jsx-3f13d9933bde5ad8 text-green-700 font-semibold",children:"Verification Complete"})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 bg-white rounded-xl p-4 text-center shadow-sm",children:[a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-2xl font-bold text-green-700",children:P.wasteType}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-xs text-gray-500 uppercase tracking-wide mt-1",children:"Type"})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 bg-white rounded-xl p-4 text-center shadow-sm",children:[a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-2xl font-bold text-blue-700",children:P.quantity}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-xs text-gray-500 uppercase tracking-wide mt-1",children:"Quantity"})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 bg-white rounded-xl p-4 text-center shadow-sm",children:[(0,a.jsxs)("p",{className:"jsx-3f13d9933bde5ad8 text-2xl font-bold text-purple-700",children:[(100*P.confidence).toFixed(0),"%"]}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-xs text-gray-500 uppercase tracking-wide mt-1",children:"Confidence"})]})]})]}),a.jsx("div",{className:"jsx-3f13d9933bde5ad8 flex justify-center",children:(0,a.jsxs)(h.z,{type:"button",onClick:()=>r(3),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center gap-2 shadow-lg",children:["Continue to Location",a.jsx(u.Z,{className:"w-5 h-5"})]})})]}),"failure"===_&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 text-center py-6",children:[a.jsx("div",{className:"jsx-3f13d9933bde5ad8 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"jsx-3f13d9933bde5ad8 text-3xl",children:"âŒ"})}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-red-600 font-medium mb-4",children:"Verification failed"}),a.jsx(h.z,{type:"button",onClick:L,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-2 rounded-xl",children:"Try Again"})]}),a.jsx("div",{className:"jsx-3f13d9933bde5ad8 flex justify-start mt-6",children:(0,a.jsxs)("button",{type:"button",onClick:()=>r(1),className:"jsx-3f13d9933bde5ad8 text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm",children:[a.jsx(f.Z,{className:"w-4 h-4"}),"Back to Upload"]})})]}),3===s&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 animate-fadeIn",children:[a.jsx("h2",{className:"jsx-3f13d9933bde5ad8 text-xl font-semibold text-gray-800 mb-6 text-center",children:"\uD83D\uDCCD Select Location"}),a.jsx("div",{className:"jsx-3f13d9933bde5ad8 bg-gray-50 rounded-2xl p-4 mb-6",children:a.jsx("div",{className:"jsx-3f13d9933bde5ad8 h-[350px] rounded-xl overflow-hidden",children:a.jsx(g,{onLocationSelect:T,initialLocation:k||void 0})})}),k&&a.jsx("div",{className:"jsx-3f13d9933bde5ad8 text-center mb-6",children:(0,a.jsxs)("span",{className:"jsx-3f13d9933bde5ad8 inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-medium",children:[a.jsx(c.Z,{className:"w-4 h-4"}),k.lat.toFixed(6),", ",k.lng.toFixed(6)]})}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex justify-between items-center",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>r(2),className:"jsx-3f13d9933bde5ad8 text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm",children:[a.jsx(f.Z,{className:"w-4 h-4"}),"Back"]}),k&&(0,a.jsxs)(h.z,{type:"button",onClick:()=>r(4),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center gap-2 shadow-lg",children:["Review & Submit",a.jsx(u.Z,{className:"w-5 h-5"})]})]})]}),4===s&&(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 animate-fadeIn",children:[a.jsx("h2",{className:"jsx-3f13d9933bde5ad8 text-xl font-semibold text-gray-800 mb-6 text-center",children:"âœ… Review & Submit"}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 space-y-4 mb-8",children:[a.jsx("div",{className:"jsx-3f13d9933bde5ad8 bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex flex-col items-center",children:[w&&a.jsx("img",{src:w,alt:"Waste",className:"jsx-3f13d9933bde5ad8 h-40 rounded-xl shadow-md mb-2"}),a.jsx("p",{className:"jsx-3f13d9933bde5ad8 text-sm text-gray-500",children:"Uploaded Image"})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 space-y-3",children:[(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex justify-between items-center py-2 border-b border-green-200",children:[a.jsx("span",{className:"jsx-3f13d9933bde5ad8 text-gray-600",children:"Waste Type"}),a.jsx("span",{className:"jsx-3f13d9933bde5ad8 font-semibold text-green-700",children:P?.wasteType})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex justify-between items-center py-2 border-b border-green-200",children:[a.jsx("span",{className:"jsx-3f13d9933bde5ad8 text-gray-600",children:"Quantity"}),a.jsx("span",{className:"jsx-3f13d9933bde5ad8 font-semibold text-blue-700",children:P?.quantity})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex justify-between items-center py-2 border-b border-green-200",children:[a.jsx("span",{className:"jsx-3f13d9933bde5ad8 text-gray-600",children:"Confidence"}),(0,a.jsxs)("span",{className:"jsx-3f13d9933bde5ad8 font-semibold text-purple-700",children:[100*(P?.confidence||0),"%"]})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex justify-between items-center py-2",children:[a.jsx("span",{className:"jsx-3f13d9933bde5ad8 text-gray-600",children:"Location"}),(0,a.jsxs)("span",{className:"jsx-3f13d9933bde5ad8 font-semibold text-gray-700 text-sm",children:[k?.lat.toFixed(4),", ",k?.lng.toFixed(4)]})]})]})]})}),a.jsx("div",{className:"jsx-3f13d9933bde5ad8 bg-gradient-to-r from-amber-50 to-yellow-50 rounded-2xl p-4 border border-amber-200 text-center",children:(0,a.jsxs)("p",{className:"jsx-3f13d9933bde5ad8 text-amber-800",children:["\uD83C\uDF89 You'll earn approximately ",a.jsx("strong",{className:"jsx-3f13d9933bde5ad8",children:"10 points"})," for this report!"]})})]}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 flex justify-between items-center",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>r(3),className:"jsx-3f13d9933bde5ad8 text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm",children:[a.jsx(f.Z,{className:"w-4 h-4"}),"Back"]}),a.jsx(h.z,{type:"submit",disabled:R,className:"bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 hover:from-green-600 hover:via-emerald-600 hover:to-teal-600 text-white px-10 py-4 rounded-xl font-bold flex items-center gap-3 shadow-xl text-lg disabled:opacity-50",children:R?(0,a.jsxs)(a.Fragment,{children:[a.jsx(l.Z,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"w-5 h-5"}),"Submit Report"]})})]})]})]})}),(0,a.jsxs)("div",{className:"jsx-3f13d9933bde5ad8 mt-6 bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-white/50",children:[a.jsx("h3",{className:"jsx-3f13d9933bde5ad8 font-semibold text-gray-700 mb-2",children:"\uD83D\uDCA1 Tips for better reports"}),(0,a.jsxs)("ul",{className:"jsx-3f13d9933bde5ad8 text-sm text-gray-600 space-y-1",children:[a.jsx("li",{className:"jsx-3f13d9933bde5ad8",children:"â€¢ Take clear photos in good lighting"}),a.jsx("li",{className:"jsx-3f13d9933bde5ad8",children:"â€¢ Include multiple waste items in frame when possible"}),a.jsx("li",{className:"jsx-3f13d9933bde5ad8",children:"â€¢ Be as accurate as possible with location"})]})]})]}),a.jsx(n(),{id:"3f13d9933bde5ad8",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.animate-fadeIn.jsx-3f13d9933bde5ad8{-webkit-animation:fadeIn.3s ease-out forwards;-moz-animation:fadeIn.3s ease-out forwards;-o-animation:fadeIn.3s ease-out forwards;animation:fadeIn.3s ease-out forwards}.border-3.jsx-3f13d9933bde5ad8{border-width:3px}"})]})}},70497:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(10326),r=s(35047),n=s(17577),d=s(91664),l=s(94019),i=s(62881);let o=(0,i.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),c=(0,i.Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),x=(0,i.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function m({children:e}){let t=(0,r.useRouter)(),[s,i]=(0,n.useState)(!0),[m,u]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),p=()=>{t.push("/")};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})}):!m&&f?(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),a.jsx("div",{className:"fixed z-50 w-full max-w-md mx-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all animate-fade-in",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-8 text-center relative",children:[a.jsx("button",{onClick:p,className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors","aria-label":"Close",children:a.jsx(l.Z,{className:"h-5 w-5"})}),a.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(o,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Authentication Required"}),a.jsx("p",{className:"text-green-100 mt-2",children:"Please sign in to access this page"})]}),(0,a.jsxs)("div",{className:"px-6 py-8",children:[a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"You need to be signed in to view this content. Create an account or sign in to continue."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(d.z,{onClick:()=>{t.push("/auth/signin")},className:"w-full bg-green-600 hover:bg-green-700 text-white py-6 text-lg font-medium rounded-xl flex items-center justify-center gap-2",children:[a.jsx(c,{className:"h-5 w-5"}),"Sign In"]}),(0,a.jsxs)(d.z,{onClick:()=>{t.push("/auth/signup")},variant:"outline",className:"w-full border-2 border-green-600 text-green-600 hover:bg-green-50 py-6 text-lg font-medium rounded-xl flex items-center justify-center gap-2",children:[a.jsx(x,{className:"h-5 w-5"}),"Create Account"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:p,className:"text-gray-500 hover:text-gray-700 text-sm underline",children:"Return to Home Page"})})]})]})})]}):a.jsx(a.Fragment,{children:e})}},91317:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\devan\Downloads\zero2hero-Waste-Management-System-master\src\app\rewards\report\page.tsx#default`)},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(66621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,3635,6621,2387],()=>s(70085));module.exports=a})();