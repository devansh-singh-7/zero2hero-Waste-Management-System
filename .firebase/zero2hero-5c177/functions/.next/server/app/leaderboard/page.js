(()=>{var e={};e.id=173,e.ids=[173],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},44575:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>i}),r(89736),r(32029),r(35866);var t=r(23191),s=r(88716),l=r(37922),n=r.n(l),d=r(95231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(a,o);let i=["",{children:["leaderboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89736)),"C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\leaderboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\devan\\Downloads\\zero2hero-Waste-Management-System-master\\src\\app\\leaderboard\\page.tsx"],x="/leaderboard/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/leaderboard/page",pathname:"/leaderboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},64934:(e,a,r)=>{Promise.resolve().then(r.bind(r,60207))},26092:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},33734:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},69039:(e,a,r)=>{"use strict";var t=r(55358);r.o(t,"toast")&&r.d(a,{toast:function(){return t.toast}})},60207:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>p});var t=r(10326),s=r(17577),l=r(26092),n=r(89265),d=r(997),o=r(33734),i=r(58907);let c=(0,r(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=r(79635),m=r(69039);function p(){let[e,a]=(0,s.useState)([]),[r,p]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null),g=async()=>{try{p(!0),h(null);let e=await fetch("/api/leaderboard",{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(e.ok){let r=await e.json();r.leaderboard&&Array.isArray(r.leaderboard)?a(r.leaderboard):h("Invalid data format received")}else{let a=await e.json();h(`Failed to load leaderboard: ${a.error||"Unknown error"}`),m.toast.error("Failed to load leaderboard.")}}catch(a){let e=a instanceof Error?a.message:String(a);h(`Network error: ${e}`),m.toast.error("An error occurred while loading leaderboard.")}finally{p(!1)}},b=e=>{switch(e){case 1:return t.jsx(l.Z,{className:"h-6 w-6 text-yellow-500"});case 2:return t.jsx(n.Z,{className:"h-6 w-6 text-gray-400"});case 3:return t.jsx(d.Z,{className:"h-6 w-6 text-amber-600"});default:return t.jsx(o.Z,{className:"h-5 w-5 text-gray-400"})}},y=e=>{switch(e){case 1:return"border-yellow-200 bg-yellow-50";case 2:return"border-gray-200 bg-gray-50";case 3:return"border-amber-200 bg-amber-50";default:return"border-gray-100 bg-white"}};return(0,t.jsxs)("div",{className:"p-4 lg:p-8 bg-white shadow-md rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[t.jsx(i.Z,{className:"h-8 w-8 text-yellow-500 mr-3"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Leaderboard"})]}),r?t.jsx("div",{className:"flex items-center justify-center py-16",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading leaderboard..."})]})}):u?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(c,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),t.jsx("p",{className:"text-red-600 text-lg font-semibold mb-2",children:"Error Loading Data"}),t.jsx("p",{className:"text-red-500 mb-4",children:u}),t.jsx("button",{onClick:g,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Try Again"})]}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(x.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 text-lg",children:"No users found yet."}),t.jsx("p",{className:"text-gray-400",children:"Be the first to make an impact!"})]}):t.jsx("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:`p-6 border-2 rounded-xl transition-all hover:shadow-md ${y(e.rank)}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[b(e.rank),(0,t.jsxs)("span",{className:"ml-2 text-2xl font-bold text-gray-700",children:["#",e.rank]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.userName}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:["\uD83D\uDCCA ",e.reportsSubmitted," reports"]}),(0,t.jsxs)("span",{children:["\uD83D\uDE9B ",e.tasksCompleted," tasks"]}),(0,t.jsxs)("span",{children:["\uD83D\uDCB0 ",e.balance," tokens"]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.score}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"})]})]}),e.badges.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Achievements:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.badges.map((e,a)=>t.jsx("span",{className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:e},a))})]})]},e.id))})]})}},89736:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`C:\Users\devan\Downloads\zero2hero-Waste-Management-System-master\src\app\leaderboard\page.tsx#default`)},73881:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});var t=r(66621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[8948,3635,6621,2387],()=>r(44575));module.exports=t})();